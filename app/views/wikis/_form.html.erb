<%= form_with(model: wiki, local: true) do |form| %>
  <%= render partial: 'shared/form_error', locals: {form_object: wiki} %>

  <div class="form-group">
    <%= form.label :title, class: "form-label" %>
    <div class="input-group">
      <%= form.text_field :title, class: "form-input", placeholder: "wikiタイトル" %>
      <span class="input-group-addon">Wiki</span>
    </div>
  </div>

  <div class="form-group">
    <%= form.label :description, class: "form-label" %>
    <%= form.text_area :description, class: "form-input", placeholder: "Wikiの概要" %>
  </div>

  <div class="form-group">
    <%= form.label :terms, class: "form-label" %>
    <%= form.text_area :terms, class: "form-input", placeholder: "Wikiのルールや規約" %>
  </div>

  <% if @wiki.id %>

  <div class="form-group">
    <%= form.label :first_page_id, class: "form-label" %>
    <%= form.collection_select :first_page_id, @wiki.pages, :id, :title, {}, {class: "form-select"} %>
  </div>

  <div class="columns">
    <div class="column col-6 col-sm-12 mb-2">
      <div class="form-group">
        <%= form.label class: "form-label" do %>
          <div class="popover d-inline">
            <%= t('wikis.settings.can_page_create_level.label') %><i class="icon-question"></i>
            <div class="popover-container">
              <div class="card">
                <div class="card-header">
                  <%= t('wikis.settings.can_page_create_level.hint_header') %>
                </div>
                <div class="card-body">
                  <%= t('wikis.settings.can_page_create_level.hint_body') %>
                </div>
              </div>
            </div>
          </div>
        <% end %>
        <%= form.select :can_page_create_level, {
          "#{t('wikis.settings.maintainer_level.anyone')}": 0,
          "#{t('wikis.settings.maintainer_level.contributor')}": 1,
          "#{t('wikis.settings.maintainer_level.moderator')}": 2,
          "#{t('wikis.settings.maintainer_level.administrator')}": 3
          }, {}, {class: "form-select"} %>
      </div>
    </div>
    <div class="column col-6 col-sm-12 mb-2">
      <div class="form-group">
        <%= form.label class: "form-label" do %>
          <div class="popover d-inline">
            <%= t('wikis.settings.can_page_edit_level.label') %><i class="icon-question"></i>
            <div class="popover-container">
              <div class="card">
                <div class="card-header">
                  <%= t('wikis.settings.can_page_edit_level.hint_header') %>
                </div>
                <div class="card-body">
                  <%= t('wikis.settings.can_page_edit_level.hint_body') %>
                </div>
              </div>
            </div>
          </div>
        <% end %>
        <%= form.select :can_page_edit_level, {
          "#{t('wikis.settings.maintainer_level.anyone')}": 0,
          "#{t('wikis.settings.maintainer_level.contributor')}": 1,
          "#{t('wikis.settings.maintainer_level.moderator')}": 2,
          "#{t('wikis.settings.maintainer_level.administrator')}": 3
          }, {}, {class: "form-select"} %>
      </div>
    </div>
    <div class="column col-6 col-sm-12 mb-2">
      <div class="form-group">
        <%= form.label class: "form-label" do %>
          <div class="popover d-inline">
            <%= t('wikis.settings.can_page_request_level.label') %><i class="icon-question"></i>
            <div class="popover-container">
              <div class="card">
                <div class="card-header">
                  <%= t('wikis.settings.can_page_request_level.hint_header') %>
                </div>
                <div class="card-body">
                  <%= t('wikis.settings.can_page_request_level.hint_body') %>
                </div>
              </div>
            </div>
          </div>
        <% end %>
        <%= form.select :can_page_request_level, {
          "#{t('wikis.settings.maintainer_level.anyone')}": 0,
          "#{t('wikis.settings.maintainer_level.contributor')}": 1,
          "#{t('wikis.settings.maintainer_level.moderator')}": 2,
          "#{t('wikis.settings.maintainer_level.administrator')}": 3
          }, {}, {class: "form-select"} %>
      </div>
    </div>
    <div class="column col-6 col-sm-12 mb-2">
      <div class="form-group">
        <%= form.label class: "form-label" do %>
          <div class="popover d-inline">
            <%= t('wikis.settings.can_page_frozen_level.label') %><i class="icon-question"></i>
            <div class="popover-container">
              <div class="card">
                <div class="card-header">
                  <%= t('wikis.settings.can_page_frozen_level.hint_header') %>
                </div>
                <div class="card-body">
                  <%= t('wikis.settings.can_page_frozen_level.hint_body') %>
                </div>
              </div>
            </div>
          </div>
        <% end %>
        <%= form.select :can_page_frozen_level, {
          "#{t('wikis.settings.maintainer_level.anyone')}": 0,
          "#{t('wikis.settings.maintainer_level.contributor')}": 1,
          "#{t('wikis.settings.maintainer_level.moderator')}": 2,
          "#{t('wikis.settings.maintainer_level.administrator')}": 3
          }, {}, {class: "form-select"} %>
      </div>
    </div>
    <div class="column col-6 col-sm-12 mb-2">
      <div class="form-group">
        <%= form.label class: "form-label" do %>
          <div class="popover d-inline">
            <%= t('wikis.settings.can_page_archive_level.label') %><i class="icon-question"></i>
            <div class="popover-container">
              <div class="card">
                <div class="card-header">
                  <%= t('wikis.settings.can_page_archive_level.hint_header') %>
                </div>
                <div class="card-body">
                  <%= t('wikis.settings.can_page_archive_level.hint_body') %>
                </div>
              </div>
            </div>
          </div>
        <% end %>
        <%= form.select :can_page_archive_level, {
          "#{t('wikis.settings.maintainer_level.anyone')}": 0,
          "#{t('wikis.settings.maintainer_level.contributor')}": 1,
          "#{t('wikis.settings.maintainer_level.moderator')}": 2,
          "#{t('wikis.settings.maintainer_level.administrator')}": 3
          }, {}, {class: "form-select"} %>
      </div>
    </div>
    <div class="column col-6 col-sm-12 mb-2">
      <div class="form-group">
        <%= form.label class: "form-label" do %>
          <div class="popover d-inline">
            <%= t('wikis.settings.can_navs_edit_level.label') %><i class="icon-question"></i>
            <div class="popover-container">
              <div class="card">
                <div class="card-header">
                  <%= t('wikis.settings.can_navs_edit_level.hint_header') %>
                </div>
                <div class="card-body">
                  <%= t('wikis.settings.can_navs_edit_level.hint_body') %>
                </div>
              </div>
            </div>
          </div>
        <% end %>
        <%= form.select :can_navs_edit_level, {
          "#{t('wikis.settings.maintainer_level.anyone')}": 0,
          "#{t('wikis.settings.maintainer_level.contributor')}": 1,
          "#{t('wikis.settings.maintainer_level.moderator')}": 2,
          "#{t('wikis.settings.maintainer_level.administrator')}": 3
          }, {}, {class: "form-select"} %>
      </div>
    </div>
  </div>

  <% end %>

  <div class="form-action">
    <%= form.submit class: 'btn btn-primary' %>
  </div>
<% end %>
